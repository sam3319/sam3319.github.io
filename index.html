<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koko - 한국 상품 분석 플랫폼</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- HTML5 QRCode 라이브러리 추가 -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 스플래시 스크린 -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-content">
            <div class="logo-container">
                <div class="logo-icon">
                    <i class="fas fa-camera"></i>
                </div>
                <h1 class="logo-text">Koko</h1>
                <p class="logo-subtitle">한국을 스캔하다</p>
                <div class="logo-tagline">Discover Korea with AI</div>
            </div>
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
        <div class="splash-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </div>

    <div class="app-container" id="appContainer">
        <!-- 헤더 -->
        <header class="header fade-in-up">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">
                        <i class="fas fa-camera"></i>
                        <span>Koko</span>
                    </div>
                </div>
                <div class="header-right">
                    <div class="language-selector">
                        <i class="fas fa-globe"></i>
                        <select id="language">
                            <option value="ko" data-text="한국어">한국어</option>
                            <option value="en" data-text="English">English</option>
                            <option value="zh" data-text="中文">中文</option>
                            <option value="ja" data-text="日本語">日本語</option>
                        </select>
                    </div>
                </div>
            </div>
        </header>

        <!-- 검색 바 -->
        <section class="search-section fade-in-up delay-1">
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="상품명이나 바코드를 검색하세요" data-placeholder-ko="상품명이나 바코드를 검색하세요" data-placeholder-en="Search products or barcodes" data-placeholder-zh="搜索产品或条形码" data-placeholder-ja="商品名またはバーコードを検索">
                    <button class="voice-search-btn" id="voiceSearch">
                        <i class="fas fa-microphone"></i>
                    </button>
                </div>
                <div class="search-suggestions hidden" id="searchSuggestions">
                    <!-- 동적으로 생성될 검색 제안 -->
                </div>
            </div>
        </section>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 환영 섹션 -->
            <section class="welcome-section fade-in-up delay-2">
                <div class="welcome-content">
                    <div class="welcome-icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <h2 data-text-ko="한국 상품을 쉽게 알아보세요!" data-text-en="Discover Korean Products Easily!" data-text-zh="轻松了解韩国产品！" data-text-ja="韓国の商品を簡単に調べよう！">한국 상품을 쉽게 알아보세요!</h2>
                    <p data-text-ko="카메라로 찍거나 바코드를 스캔하면<br>AI가 상품 정보를 분석해드립니다." data-text-en="Take a photo or scan a barcode<br>AI will analyze product information for you." data-text-zh="拍照或扫描条形码<br>AI将为您分析产品信息。" data-text-ja="カメラで撮影またはバーコードをスキャンすると<br>AIが商品情報を分析します。">카메라로 찍거나 바코드를 스캔하면<br>AI가 상품 정보를 분석해드립니다.</p>
                    <div class="welcome-stats">
                        <div class="stat-item">
                            <span class="stat-number" data-count="50000">0</span>
                            <span class="stat-label" data-text-ko="분석된 상품" data-text-en="Products Analyzed" data-text-zh="已分析产品" data-text-ja="分析された商品">분석된 상품</span>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item">
                            <span class="stat-number" data-count="98">0</span>
                            <span class="stat-label" data-text-ko="정확도 %" data-text-en="Accuracy %" data-text-zh="准确率 %" data-text-ja="精度 %">정확도 %</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 스캔 옵션 -->
            <section class="scan-options fade-in-up delay-3">
                <div class="section-title">
                    <h3><i class="fas fa-qrcode"></i> <span data-text-ko="스캔 방법 선택" data-text-en="Choose Scan Method" data-text-zh="选择扫描方式" data-text-ja="スキャン方法を選択">스캔 방법 선택</span></h3>
                    <p data-text-ko="원하는 방법으로 상품을 스캔해보세요" data-text-en="Scan products the way you want" data-text-zh="用您想要的方式扫描产品" data-text-ja="お好みの方法で商品をスキャンしてください">원하는 방법으로 상품을 스캔해보세요</p>
                </div>
                <div class="scan-button-container">
                    <button class="scan-button photo-scan" id="photoScan">
                        <div class="scan-icon">
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="scan-content">
                            <span class="scan-title" data-text-ko="사진으로 스캔" data-text-en="Photo Scan" data-text-zh="拍照扫描" data-text-ja="写真でスキャン">사진으로 스캔</span>
                            <span class="scan-desc" data-text-ko="카메라로 상품 촬영" data-text-en="Take photo of product" data-text-zh="用相机拍摄产品" data-text-ja="カメラで商品を撮影">카메라로 상품 촬영</span>
                        </div>
                        <div class="scan-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </button>
                    <button class="scan-button barcode-scan" id="barcodeScan">
                        <div class="scan-icon">
                            <i class="fas fa-barcode"></i>
                        </div>
                        <div class="scan-content">
                            <span class="scan-title" data-text-ko="바코드 스캔" data-text-en="Barcode Scan" data-text-zh="条形码扫描" data-text-ja="バーコードスキャン">바코드 스캔</span>
                            <span class="scan-desc" data-text-ko="바코드로 빠른 인식" data-text-en="Quick recognition with barcode" data-text-zh="条形码快速识别" data-text-ja="バーコードで素早く認識">바코드로 빠른 인식</span>
                        </div>
                        <div class="scan-arrow">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </button>
                </div>
            </section>

            <!-- 카메라 섹션 (숨김) -->
            <section class="camera-section hidden" id="cameraSection">
                <div class="camera-container">
                    <div class="camera-frame">
                        <video id="video" autoplay playsinline></video>
                        <div class="camera-overlay">
                            <div class="scan-frame">
                                <div class="corner top-left"></div>
                                <div class="corner top-right"></div>
                                <div class="corner bottom-left"></div>
                                <div class="corner bottom-right"></div>
                            </div>
                            <p class="scan-instruction" data-text-ko="상품을 프레임 안에 맞춰주세요" data-text-en="Align the product within the frame" data-text-zh="将产品对准框内" data-text-ja="商品をフレーム内に合わせてください">상품을 프레임 안에 맞춰주세요</p>
                        </div>
                    </div>
                    <canvas id="canvas" style="display: none;"></canvas>
                    <div class="camera-controls">
                        <button class="control-btn secondary" id="closeCamera">
                            <i class="fas fa-times"></i>
                        </button>
                        <button class="control-btn primary" id="captureBtn">
                            <div class="capture-ring"></div>
                            <i class="fas fa-camera"></i>
                        </button>
                        <button class="control-btn secondary" id="switchCamera">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- 바코드 입력 섹션 (숨김) - 수정됨 -->
            <section class="barcode-input-section hidden" id="barcodeInputSection">
                <div class="barcode-container">
                    <div class="barcode-header">
                        <h3><i class="fas fa-barcode"></i> 바코드 스캔</h3>
                        <button class="close-barcode" id="closeBarcodeInput">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="barcode-content">
                        <div class="barcode-input-methods">
                            <!-- 카메라 스캔 -->
                            <div class="input-method active" data-method="camera">
                                <h4><i class="fas fa-camera"></i> 카메라로 스캔</h4>
                                <div class="camera-scan-area">
                                    <!-- HTML5 QRCode 렌더링 영역 -->
                                    <div id="qr-reader" class="qr-reader-container"></div>
                                    <div class="barcode-controls">
                                        <button id="startBarcodeCamera">
                                            <i class="fas fa-play"></i> 스캔 시작
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 직접 입력 -->
                            <div class="input-method" data-method="manual">
                                <h4><i class="fas fa-keyboard"></i> 직접 입력</h4>
                                <div class="manual-input">
                                    <input type="text" id="barcodeManualInput" placeholder="바코드 번호를 입력하세요" maxlength="20">
                                    <button class="input-btn" id="submitBarcode">
                                        <i class="fas fa-search"></i> 분석하기
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 최근 스캔한 바코드 -->
                        <div class="recent-barcodes">
                            <h4><i class="fas fa-history"></i> 최근 스캔한 바코드</h4>
                            <div class="barcode-history" id="barcodeHistory">
                                <!-- 동적으로 생성될 내용 -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 최근 스캔 기록 -->
            <section class="history-section fade-in-up delay-4">
                <div class="section-header">
                    <h3><i class="fas fa-history"></i> <span data-text-ko="최근 스캔 기록" data-text-en="Recent Scans" data-text-zh="最近扫描记录" data-text-ja="最近のスキャン履歴">최근 스캔 기록</span></h3>
                    <button class="view-all-btn" data-text-ko="전체보기" data-text-en="View All" data-text-zh="查看全部" data-text-ja="すべて表示">전체보기</button>
                </div>
                <div class="history-list" id="historyList">
                    <!-- 동적으로 생성될 내용 -->
                </div>
            </section>

            <!-- 인기 상품 카테고리 -->
            <section class="popular-categories fade-in-up delay-5">
                <div class="section-header">
                    <div class="section-title-content">
                        <h3><i class="fas fa-fire"></i> <span data-text-ko="인기 상품 카테고리" data-text-en="Popular Categories" data-text-zh="热门商品类别" data-text-ja="人気商品カテゴリー">인기 상품 카테고리</span></h3>
                        <p data-text-ko="관광객들이 많이 찾는 한국 상품들" data-text-en="Korean products popular with tourists" data-text-zh="游客常找的韩国产品" data-text-ja="観光客に人気の韓国商品">관광객들이 많이 찾는 한국 상품들</p>
                    </div>
                </div>
                <div class="category-grid">
                    <div class="category-card" data-category="snacks">
                        <div class="category-icon">
                            <i class="fas fa-cookie-bite"></i>
                        </div>
                        <div class="category-content">
                            <span class="category-name" data-text-ko="과자/스낵" data-text-en="Snacks" data-text-zh="零食/小吃" data-text-ja="お菓子/スナック">과자/스낵</span>
                            <span class="category-count">1,247개</span>
                        </div>
                    </div>
                    <div class="category-card" data-category="fashion">
                        <div class="category-icon">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <div class="category-content">
                            <span class="category-name" data-text-ko="의류" data-text-en="Fashion" data-text-zh="服装" data-text-ja="衣類">의류</span>
                            <span class="category-count">856개</span>
                        </div>
                    </div>
                    <div class="category-card" data-category="beauty">
                        <div class="category-icon">
                            <i class="fas fa-spa"></i>
                        </div>
                        <div class="category-content">
                            <span class="category-name" data-text-ko="화장품" data-text-en="Beauty" data-text-zh="化妆品" data-text-ja="化粧品">화장품</span>
                            <span class="category-count">2,134개</span>
                        </div>
                    </div>
                    <div class="category-card" data-category="food">
                        <div class="category-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="category-content">
                            <span class="category-name" data-text-ko="식품" data-text-en="Food" data-text-zh="食品" data-text-ja="食品">식품</span>
                            <span class="category-count">1,892개</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 팁 섹션 -->
            <section class="tips-section fade-in-up delay-6">
                <div class="tips-container">
                    <div class="tip-item">
                        <i class="fas fa-lightbulb"></i>
                        <p><strong data-text-ko="팁:" data-text-en="Tip:" data-text-zh="提示:" data-text-ja="ヒント:">팁:</strong> <span data-text-ko="밝은 곳에서 촬영하면 더 정확한 분석이 가능해요!" data-text-en="Take photos in bright places for more accurate analysis!" data-text-zh="在明亮的地方拍摄可以更准确地分析！" data-text-ja="明るい場所で撮影するとより正確な分析が可能です！">밝은 곳에서 촬영하면 더 정확한 분석이 가능해요!</span></p>
                    </div>
                </div>
            </section>
        </main>

        <!-- 결과 섹션 -->
        <section class="results-section hidden" id="resultsSection">
            <div class="result-backdrop"></div>
            <div class="result-card">
                <div class="result-header">
                    <h3 data-text-ko="상품 분석 결과" data-text-en="Product Analysis Result" data-text-zh="产品分析结果" data-text-ja="商品分析結果">상품 분석 결과</h3>
                    <button class="close-result" id="closeResult">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="result-content" id="resultContent">
                    <!-- 동적으로 생성될 내용 -->
                </div>
            </div>
        </section>

        <!-- 로딩 오버레이 -->
        <div class="loading-overlay hidden" id="loadingOverlay">
            <div class="loading-content">
                <div class="loading-spinner">
                    <div class="spinner-ring"></div>
                    <div class="spinner-core">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
                <h3 data-text-ko="AI가 분석 중입니다" data-text-en="AI is analyzing" data-text-zh="AI正在分析" data-text-ja="AIが分析中です">AI가 분석 중입니다</h3>
                <p class="loading-text" id="loadingText" data-text-ko="상품을 인식하고 있어요..." data-text-en="Recognizing the product..." data-text-zh="正在识别产品..." data-text-ja="商品を認識しています...">상품을 인식하고 있어요...</p>
                <div class="loading-progress">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>
        </div>

        <!-- 하단 네비게이션 -->
        <nav class="bottom-nav fade-in-up delay-7">
            <div class="nav-item active" data-tab="home">
                <div class="nav-icon">
                    <i class="fas fa-home"></i>
                </div>
                <span data-text-ko="홈" data-text-en="Home" data-text-zh="首页" data-text-ja="ホーム">홈</span>
            </div>
            <div class="nav-item camera-nav" data-tab="camera" id="cameraNavBtn">
                <div class="nav-icon camera-icon">
                    <i class="fas fa-camera"></i>
                </div>
                <span data-text-ko="카메라" data-text-en="Camera" data-text-zh="相机" data-text-ja="カメラ">카메라</span>
            </div>
            <div class="nav-item" data-tab="favorites">
                <div class="nav-icon">
                    <i class="fas fa-heart"></i>
                    <div class="notification-dot hidden">0</div>
                </div>
                <span data-text-ko="찜" data-text-en="Favorites" data-text-zh="收藏" data-text-ja="お気に入り">찜</span>
            </div>
        </nav>
    </div>

    <script src="script.js"></script>
</body>
</html>
